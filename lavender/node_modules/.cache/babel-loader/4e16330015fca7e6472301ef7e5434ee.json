{"ast":null,"code":"import * as loginApi from \"../../apis/login\";\nimport * as loginConst from \"../constrants/loginConst\";\nimport Cookies from 'universal-cookie';\nimport jwt from \"jwt-decode\";\nexport const postLogin = () => {\n  return {\n    type: loginConst.POST_LOGIN\n  };\n};\nexport const postLoginSuccess = data => {\n  return {\n    type: loginConst.POST_LOGIN_SUCCESS,\n    payload: {\n      data: data\n    }\n  };\n};\nexport const postLoginFailed = error => {\n  return {\n    type: loginConst.POST_LOGIN_FAILED,\n    payload: {\n      error\n    }\n  };\n};\nexport const postLoginReport = req => {\n  return async dispatch => {\n    await loginApi.login({\n      email: \"19521679@gm.uit.edu.vn\",\n      password: \"1\"\n    }, {// credentials: 'include',\n      // withCredentials: true,\n      // headers: {\n      //   Accept: \"/\",\n      //   \"Cache-Control\": \"no-cache\",\n      //   \"Set-Cookie\": \"token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IjE5NTIxNjc5QGdtLnVpdC5lZHUudm4iLCJyb2xlIjoiYWRtaW5pc3RyYXRvciIsIm5iZiI6MTYzODk0OTYyNSwiZXhwIjoxNjM4OTUzMjI1LCJpYXQiOjE2Mzg5NDk2MjV9.K3T4i2xVTIGVC2Q-32PGDsUtYmwl8DIp97Hk4gZKjB0\",\n      // },\n    }).then(success => {\n      if (success.status === 200) {\n        dispatch(postLoginSuccess(success.data)); // const token = success.data;\n        // const user = jwt(token); // decode your token here\n\n        const cookies = new Cookies();\n        cookies.set('token', success.data, {\n          path: '/login'\n        });\n        console.log(cookies.get('token'));\n        console.log(success);\n      } else dispatch(postLoginFailed(success));\n    }).catch(error => {\n      dispatch(postLoginFailed(error));\n    });\n  };\n};","map":{"version":3,"sources":["/Users/khanhle/Documents/GitHub/web/lavender/src/Components/redux/actions/loginAct.js"],"names":["loginApi","loginConst","Cookies","jwt","postLogin","type","POST_LOGIN","postLoginSuccess","data","POST_LOGIN_SUCCESS","payload","postLoginFailed","error","POST_LOGIN_FAILED","postLoginReport","req","dispatch","login","email","password","then","success","status","cookies","set","path","console","log","get","catch"],"mappings":"AAAA,OAAO,KAAKA,QAAZ,MAA0B,kBAA1B;AACA,OAAO,KAAKC,UAAZ,MAA4B,0BAA5B;AACA,OAAOC,OAAP,MAAoB,kBAApB;AACA,OAAOC,GAAP,MAAgB,YAAhB;AAGA,OAAO,MAAMC,SAAS,GAAG,MAAM;AAC7B,SAAO;AACLC,IAAAA,IAAI,EAAEJ,UAAU,CAACK;AADZ,GAAP;AAGD,CAJM;AAMP,OAAO,MAAMC,gBAAgB,GAAIC,IAAD,IAAU;AACxC,SAAO;AACLH,IAAAA,IAAI,EAAEJ,UAAU,CAACQ,kBADZ;AAELC,IAAAA,OAAO,EAAE;AACPF,MAAAA,IAAI,EAAEA;AADC;AAFJ,GAAP;AAMD,CAPM;AASP,OAAO,MAAMG,eAAe,GAAIC,KAAD,IAAW;AACxC,SAAO;AACLP,IAAAA,IAAI,EAAEJ,UAAU,CAACY,iBADZ;AAELH,IAAAA,OAAO,EAAE;AACPE,MAAAA;AADO;AAFJ,GAAP;AAMD,CAPM;AASP,OAAO,MAAME,eAAe,GAAIC,GAAD,IAAS;AACtC,SAAO,MAAOC,QAAP,IAAoB;AACzB,UAAMhB,QAAQ,CACXiB,KADG,CAEF;AACEC,MAAAA,KAAK,EAAE,wBADT;AAEEC,MAAAA,QAAQ,EAAE;AAFZ,KAFE,EAMF,CACE;AACA;AACA;AACA;AACA;AACA;AACA;AAPF,KANE,EAgBHC,IAhBG,CAgBGC,OAAD,IAAa;AACjB,UAAIA,OAAO,CAACC,MAAR,KAAmB,GAAvB,EAA4B;AAC1BN,QAAAA,QAAQ,CAACT,gBAAgB,CAACc,OAAO,CAACb,IAAT,CAAjB,CAAR,CAD0B,CAE1B;AACA;;AACA,cAAMe,OAAO,GAAG,IAAIrB,OAAJ,EAAhB;AACFqB,QAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ,EAAqBH,OAAO,CAACb,IAA7B,EAAmC;AAAEiB,UAAAA,IAAI,EAAE;AAAR,SAAnC;AACAC,QAAAA,OAAO,CAACC,GAAR,CAAYJ,OAAO,CAACK,GAAR,CAAY,OAAZ,CAAZ;AAEEF,QAAAA,OAAO,CAACC,GAAR,CAAYN,OAAZ;AACD,OATD,MASOL,QAAQ,CAACL,eAAe,CAACU,OAAD,CAAhB,CAAR;AACR,KA3BG,EA4BHQ,KA5BG,CA4BIjB,KAAD,IAAW;AAChBI,MAAAA,QAAQ,CAACL,eAAe,CAACC,KAAD,CAAhB,CAAR;AACD,KA9BG,CAAN;AAgCD,GAjCD;AAkCD,CAnCM","sourcesContent":["import * as loginApi from \"../../apis/login\";\nimport * as loginConst from \"../constrants/loginConst\";\nimport Cookies from 'universal-cookie';\nimport jwt from \"jwt-decode\";\n\n\nexport const postLogin = () => {\n  return {\n    type: loginConst.POST_LOGIN,\n  };\n};\n\nexport const postLoginSuccess = (data) => {\n  return {\n    type: loginConst.POST_LOGIN_SUCCESS,\n    payload: {\n      data: data,\n    },\n  };\n};\n\nexport const postLoginFailed = (error) => {\n  return {\n    type: loginConst.POST_LOGIN_FAILED,\n    payload: {\n      error,\n    },\n  };\n};\n\nexport const postLoginReport = (req) => {\n  return async (dispatch) => {\n    await loginApi\n      .login(\n        {\n          email: \"19521679@gm.uit.edu.vn\",\n          password: \"1\",\n        },\n        {\n          // credentials: 'include',\n          // withCredentials: true,\n          // headers: {\n          //   Accept: \"/\",\n          //   \"Cache-Control\": \"no-cache\",\n          //   \"Set-Cookie\": \"token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IjE5NTIxNjc5QGdtLnVpdC5lZHUudm4iLCJyb2xlIjoiYWRtaW5pc3RyYXRvciIsIm5iZiI6MTYzODk0OTYyNSwiZXhwIjoxNjM4OTUzMjI1LCJpYXQiOjE2Mzg5NDk2MjV9.K3T4i2xVTIGVC2Q-32PGDsUtYmwl8DIp97Hk4gZKjB0\",\n          // },\n        }\n      )\n      .then((success) => {\n        if (success.status === 200) {\n          dispatch(postLoginSuccess(success.data));\n          // const token = success.data;\n          // const user = jwt(token); // decode your token here\n          const cookies = new Cookies();\n        cookies.set('token', success.data, { path: '/login' });\n        console.log(cookies.get('token'));\n\n          console.log(success);\n        } else dispatch(postLoginFailed(success));\n      })\n      .catch((error) => {\n        dispatch(postLoginFailed(error));\n      });\n      \n  };\n};\n"]},"metadata":{},"sourceType":"module"}