{"ast":null,"code":"import axiosServices from \"./axiosServices\";\nimport { API_ENDPOINT } from \"../../Common/constants/index\";\nimport { refreshToken } from \"../service/refreshtoken\";\nexport const loadCart = async (makhachhang, token, refreshtoken) => {\n  const url = \"/cart\";\n  var newtoken = undefined;\n  var connect = await axiosServices.get(`${API_ENDPOINT}${url}?makhachhang=${makhachhang}`, {\n    headers: {\n      Authorization: `Bearer ${token}`\n    }\n  }).catch(error => {\n    console.log(\"aaaa\" + JSON.stringify(error));\n\n    if (error.response.status === 401) {\n      newtoken = refreshToken(refreshtoken);\n      console.log(newtoken);\n      return error;\n    }\n  });\n\n  if (newtoken !== undefined) {\n    return await axiosServices.get(`${API_ENDPOINT}${url}?makhachhang=${makhachhang}`, {\n      headers: {\n        Authorization: `Bearer ${newtoken}`\n      }\n    });\n  }\n\n  return connect;\n};\nexport const addToCart = async (data, token, refreshtoken) => {\n  const url = \"/add-to-cart\";\n  var newtoken = undefined;\n  var connect = await axiosServices.get(API_ENDPOINT + url, data, {\n    headers: {\n      Authorization: `Bearer ${token}`\n    }\n  }).catch(error => {\n    console.log(\"aaaa\" + JSON.stringify(error));\n\n    if (error.response.status === 401) {\n      newtoken = refreshToken(refreshtoken);\n      console.log(newtoken);\n      return error;\n    }\n  });\n\n  if (newtoken !== undefined) {\n    return await axiosServices.get(API_ENDPOINT + url, data, {\n      headers: {\n        Authorization: `Bearer ${newtoken}`\n      }\n    });\n  }\n\n  return connect;\n};\nexport const updateCart = async (data, token, refreshtoken) => {\n  const url = \"/update-cart\";\n  var newtoken = undefined;\n  var connect = await axiosServices.get(API_ENDPOINT + url, data, {\n    headers: {\n      Authorization: `Bearer ${token}`\n    }\n  }).catch(error => {\n    console.log(\"aaaa\" + JSON.stringify(error));\n\n    if (error.response.status === 401) {\n      newtoken = refreshToken(refreshtoken);\n      console.log(newtoken);\n      return error;\n    }\n  });\n\n  if (newtoken !== undefined) {\n    return await axiosServices.get(API_ENDPOINT + url, data, {\n      headers: {\n        Authorization: `Bearer ${newtoken}`\n      }\n    });\n  }\n\n  return connect;\n};\nexport const deleteProduct = async (makhachhang, masanpham, token, refreshtoken) => {\n  var url = \"/cart/\" + makhachhang + \"/delete?productid=\" + masanpham;\n  var newtoken = undefined;\n  var connect = await axiosServices.get(API_ENDPOINT + url, {\n    headers: {\n      Authorization: `Bearer ${token}`\n    }\n  }).catch(error => {\n    console.log(\"aaaa\" + JSON.stringify(error));\n\n    if (error.response.status === 401) {\n      newtoken = refreshToken(refreshtoken);\n      console.log(newtoken);\n      return error;\n    }\n  });\n\n  if (newtoken !== undefined) {\n    return await axiosServices.get(API_ENDPOINT + url, {\n      headers: {\n        Authorization: `Bearer ${newtoken}`\n      }\n    });\n  }\n\n  return connect;\n};","map":{"version":3,"sources":["/Users/khanhle/Documents/GitHub/web/lavender/src/Components/apis/cart.js"],"names":["axiosServices","API_ENDPOINT","refreshToken","loadCart","makhachhang","token","refreshtoken","url","newtoken","undefined","connect","get","headers","Authorization","catch","error","console","log","JSON","stringify","response","status","addToCart","data","updateCart","deleteProduct","masanpham"],"mappings":"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","sourcesContent":["import axiosServices from \"./axiosServices\";\nimport { API_ENDPOINT } from \"../../Common/constants/index\";\nimport { refreshToken } from \"../service/refreshtoken\";\n\nexport const loadCart = async (makhachhang, token, refreshtoken) => {\n  const url = \"/cart\";\n  var newtoken = undefined;\n  var connect = await axiosServices\n    .get(`${API_ENDPOINT}${url}?makhachhang=${makhachhang}`, { headers: { Authorization: `Bearer ${token}`}})\n    .catch((error) => {\n      console.log(\"aaaa\"+JSON.stringify(error))\n      if (error.response.status === 401) {\n        \n        newtoken = refreshToken(refreshtoken);\n        console.log(newtoken)\n        return error;\n      }\n    });\n  if (newtoken !== undefined) {\n    return await axiosServices\n    .get(`${API_ENDPOINT}${url}?makhachhang=${makhachhang}`, { headers: { Authorization: `Bearer ${newtoken}`}});\n  }\n  return connect;\n};\nexport const addToCart = async (data, token, refreshtoken) => {\n  const url = \"/add-to-cart\";\n\n  var newtoken = undefined;\n  var connect = await axiosServices\n    .get(API_ENDPOINT + url, data, { headers: { Authorization: `Bearer ${token}`}})\n    .catch((error) => {\n      console.log(\"aaaa\"+JSON.stringify(error))\n      if (error.response.status === 401) {\n        \n        newtoken = refreshToken(refreshtoken);\n        console.log(newtoken)\n        return error;\n      }\n    });\n  if (newtoken !== undefined) {\n    return await axiosServices\n    .get(API_ENDPOINT + url, data, { headers: { Authorization: `Bearer ${newtoken}`}});\n  }\n  return connect;\n};\nexport const updateCart = async (data, token, refreshtoken) => {\n  const url = \"/update-cart\";\n\n  var newtoken = undefined;\n  var connect = await axiosServices\n    .get(API_ENDPOINT + url, data, { headers: { Authorization: `Bearer ${token}`}})\n    .catch((error) => {\n      console.log(\"aaaa\"+JSON.stringify(error))\n      if (error.response.status === 401) {\n        \n        newtoken = refreshToken(refreshtoken);\n        console.log(newtoken)\n        return error;\n      }\n    });\n  if (newtoken !== undefined) {\n    return await axiosServices\n    .get(API_ENDPOINT + url, data, { headers: { Authorization: `Bearer ${newtoken}`}});\n  }\n  return connect;\n};\nexport const deleteProduct =  async (makhachhang, masanpham, token, refreshtoken) => {\n\n  var url = \"/cart/\" +makhachhang + \"/delete?productid=\" + masanpham;\n\n  var newtoken = undefined;\n  var connect = await axiosServices\n    .get(API_ENDPOINT + url, { headers: { Authorization: `Bearer ${token}`}})\n    .catch((error) => {\n      console.log(\"aaaa\"+JSON.stringify(error))\n      if (error.response.status === 401) {\n        \n        newtoken = refreshToken(refreshtoken);\n        console.log(newtoken)\n        return error;\n      }\n    });\n  if (newtoken !== undefined) {\n    return await axiosServices\n    .get(API_ENDPOINT + url, { headers: { Authorization: `Bearer ${newtoken}`}});\n  }\n  return connect;\n};\n"]},"metadata":{},"sourceType":"module"}