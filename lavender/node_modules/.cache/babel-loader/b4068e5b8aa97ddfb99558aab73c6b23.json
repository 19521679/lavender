{"ast":null,"code":"import axiosServices from \"./axiosServices\";\nimport { API_ENDPOINT } from \"../../Common/constants/index\";\nimport { refreshToken } from \"../service/refreshtoken\";\nexport const loadCart = async (makhachhang, token, refreshtoken) => {\n  const url = \"/cart\";\n  var newtoken = undefined;\n  await axiosServices.get(`${API_ENDPOINT}${url}?makhachhang=${makhachhang}`, {\n    headers: {\n      Authorization: `Bearer ${token}`\n    }\n  }).then(success => {\n    console.log(success);\n  }).catch(error => {\n    console.log(\"aaaa\" + JSON.stringify(error));\n\n    if (error.response.status === 401) {\n      newtoken = refreshToken(refreshtoken);\n      console.log(newtoken);\n      return error;\n    }\n  });\n\n  if (newtoken !== undefined) {\n    return await axiosServices.get(`${API_ENDPOINT}${url}?makhachhang=${makhachhang}`, {\n      headers: {\n        Authorization: `Bearer ${newtoken}`\n      }\n    });\n  }\n};\nexport const addToCart = data => {\n  const url = \"/add-to-cart\";\n  return axiosServices.post(API_ENDPOINT + url, data);\n};\nexport const updateCart = data => {\n  const url = \"/update-cart\";\n  return axiosServices.post(API_ENDPOINT + url, data);\n};\nexport const deleteProduct = data => {\n  return axiosServices.delete(API_ENDPOINT + \"/cart/\" + data.customerid + \"/delete?productid=\" + data.productid);\n};","map":{"version":3,"sources":["/Users/khanhle/Documents/GitHub/web/lavender/src/Components/apis/cart.js"],"names":["axiosServices","API_ENDPOINT","refreshToken","loadCart","makhachhang","token","refreshtoken","url","newtoken","undefined","get","headers","Authorization","then","success","console","log","catch","error","JSON","stringify","response","status","addToCart","data","post","updateCart","deleteProduct","delete","customerid","productid"],"mappings":"AAAA,OAAOA,aAAP,MAA0B,iBAA1B;AACA,SAASC,YAAT,QAA6B,8BAA7B;AACA,SAASC,YAAT,QAA6B,yBAA7B;AAEA,OAAO,MAAMC,QAAQ,GAAG,OAAOC,WAAP,EAAoBC,KAApB,EAA2BC,YAA3B,KAA4C;AAClE,QAAMC,GAAG,GAAG,OAAZ;AACA,MAAIC,QAAQ,GAAGC,SAAf;AACA,QAAMT,aAAa,CAChBU,GADG,CACE,GAAET,YAAa,GAAEM,GAAI,gBAAeH,WAAY,EADlD,EACqD;AAAEO,IAAAA,OAAO,EAAE;AAAEC,MAAAA,aAAa,EAAG,UAASP,KAAM;AAAjC;AAAX,GADrD,EAEHQ,IAFG,CAEEC,OAAO,IAAG;AACdC,IAAAA,OAAO,CAACC,GAAR,CAAYF,OAAZ;AACD,GAJG,EAKHG,KALG,CAKIC,KAAD,IAAW;AAChBH,IAAAA,OAAO,CAACC,GAAR,CAAY,SAAOG,IAAI,CAACC,SAAL,CAAeF,KAAf,CAAnB;;AACA,QAAIA,KAAK,CAACG,QAAN,CAAeC,MAAf,KAA0B,GAA9B,EAAmC;AAEjCd,MAAAA,QAAQ,GAAGN,YAAY,CAACI,YAAD,CAAvB;AACAS,MAAAA,OAAO,CAACC,GAAR,CAAYR,QAAZ;AACA,aAAOU,KAAP;AACD;AACF,GAbG,CAAN;;AAcA,MAAIV,QAAQ,KAAKC,SAAjB,EAA4B;AAC1B,WAAO,MAAMT,aAAa,CACzBU,GADY,CACP,GAAET,YAAa,GAAEM,GAAI,gBAAeH,WAAY,EADzC,EAC4C;AAAEO,MAAAA,OAAO,EAAE;AAAEC,QAAAA,aAAa,EAAG,UAASJ,QAAS;AAApC;AAAX,KAD5C,CAAb;AAED;AACF,CArBM;AAsBP,OAAO,MAAMe,SAAS,GAAIC,IAAD,IAAU;AACjC,QAAMjB,GAAG,GAAG,cAAZ;AAEA,SAAOP,aAAa,CAACyB,IAAd,CAAmBxB,YAAY,GAAGM,GAAlC,EAAuCiB,IAAvC,CAAP;AACD,CAJM;AAKP,OAAO,MAAME,UAAU,GAAIF,IAAD,IAAU;AAClC,QAAMjB,GAAG,GAAG,cAAZ;AACA,SAAOP,aAAa,CAACyB,IAAd,CAAmBxB,YAAY,GAAGM,GAAlC,EAAuCiB,IAAvC,CAAP;AACD,CAHM;AAIP,OAAO,MAAMG,aAAa,GAAIH,IAAD,IAAU;AACrC,SAAOxB,aAAa,CAAC4B,MAAd,CACL3B,YAAY,GACV,QADF,GAEEuB,IAAI,CAACK,UAFP,GAGE,oBAHF,GAIEL,IAAI,CAACM,SALF,CAAP;AAOD,CARM","sourcesContent":["import axiosServices from \"./axiosServices\";\nimport { API_ENDPOINT } from \"../../Common/constants/index\";\nimport { refreshToken } from \"../service/refreshtoken\";\n\nexport const loadCart = async (makhachhang, token, refreshtoken) => {\n  const url = \"/cart\";\n  var newtoken = undefined;\n  await axiosServices\n    .get(`${API_ENDPOINT}${url}?makhachhang=${makhachhang}`, { headers: { Authorization: `Bearer ${token}`}})\n    .then(success =>{\n      console.log(success)\n    })\n    .catch((error) => {\n      console.log(\"aaaa\"+JSON.stringify(error))\n      if (error.response.status === 401) {\n        \n        newtoken = refreshToken(refreshtoken);\n        console.log(newtoken)\n        return error;\n      }\n    });\n  if (newtoken !== undefined) {\n    return await axiosServices\n    .get(`${API_ENDPOINT}${url}?makhachhang=${makhachhang}`, { headers: { Authorization: `Bearer ${newtoken}`}});\n  }\n};\nexport const addToCart = (data) => {\n  const url = \"/add-to-cart\";\n\n  return axiosServices.post(API_ENDPOINT + url, data);\n};\nexport const updateCart = (data) => {\n  const url = \"/update-cart\";\n  return axiosServices.post(API_ENDPOINT + url, data);\n};\nexport const deleteProduct = (data) => {\n  return axiosServices.delete(\n    API_ENDPOINT +\n      \"/cart/\" +\n      data.customerid +\n      \"/delete?productid=\" +\n      data.productid\n  );\n};\n"]},"metadata":{},"sourceType":"module"}