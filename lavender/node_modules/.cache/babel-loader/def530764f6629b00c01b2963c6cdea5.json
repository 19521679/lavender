{"ast":null,"code":"import * as cartApi from \"../../apis/cart\";\nimport * as cartConst from \"../constrants/cartConst\";\nimport Cookies from \"universal-cookie\";\nconst cookie = new Cookies();\nconst token = cookie.get('token');\nconst refreshtoken = cookie.get('refreshtoken');\nexport const addToCart = history => {\n  return {\n    type: cartConst.ADD_TO_CART,\n    history: history\n  };\n};\nexport const addToCartSuccess = data => {\n  return {\n    type: cartConst.ADD_TO_CART_SUCCESS,\n    payload: {\n      data\n    }\n  };\n};\nexport const addToCartFailed = error => {\n  return {\n    type: cartConst.ADD_TO_CART_FAILED,\n    payload: {\n      error\n    }\n  };\n};\nexport const addToCartReport = req => {\n  return dispatch => {\n    cartApi.addToCart(req, token, refreshtoken).then(success => {\n      if (success.status === 200) dispatch(addToCartSuccess(success.data));else dispatch(addToCartFailed(success));\n    }).catch(error => {\n      dispatch(addToCartFailed(error));\n    });\n  };\n};\n/* Xem gio hang */\n\nexport const loadCart = () => {\n  return {\n    type: cartConst.LOAD_CART\n  };\n};\nexport const loadCartSuccess = data => {\n  return {\n    type: cartConst.LOAD_CART_SUCCESS,\n    payload: {\n      data: data\n    }\n  };\n};\nexport const loadCartFailed = error => {\n  return {\n    type: cartConst.LOAD_CART_FAILED,\n    payload: {\n      error\n    }\n  };\n};\nexport const loadCartReport = customerid => {\n  let request = {\n    makhachhang: customerid\n  };\n  return dispatch => {\n    cartApi.loadCart(request, token, refreshtoken).then(success => {\n      if (success.status === 200) {\n        dispatch(loadCartSuccess(success.data));\n      } else if (success.status === 404) {\n        dispatch(loadCart(success));\n      } else {\n        dispatch(loadCartFailed(success));\n      }\n    }).catch(error => {\n      dispatch(loadCartFailed(error));\n    });\n  };\n};\n/* Xoá sản phẩm trong giỏ hàng */\n\nexport const deleteProduct = () => {\n  return {\n    type: cartConst.DELETE_PRODUCT\n  };\n};\nexport const deleteProductSuccess = success => {\n  return {\n    type: cartConst.DELETE_PRODUCT_SUCCESS,\n    payload: {\n      data: success.data\n    }\n  };\n};\nexport const deleteProductFailed = error => {\n  return {\n    type: cartConst.DELETE_PRODUCT_FAILED,\n    payload: {\n      error\n    }\n  };\n};\nexport const deleteProductReport = (makhachhang, masanpham) => {\n  return dispatch => {\n    cartApi.deleteProduct(makhachhang, masanpham, token, refreshtoken).then(res => {\n      if (res.status === 200) {\n        dispatch(deleteProductSuccess(res));\n      } else if (res.status === 404) dispatch(deleteProduct(res));else {\n        dispatch(deleteProductFailed(res));\n      }\n    }).catch(error => {\n      console.log(\"error\" + JSON.stringify(error));\n      dispatch(deleteProductFailed(error));\n    });\n  };\n};","map":{"version":3,"sources":["/Users/khanhle/Documents/GitHub/lavender/lavender/src/Components/redux/actions/cartAct.js"],"names":["cartApi","cartConst","Cookies","cookie","token","get","refreshtoken","addToCart","history","type","ADD_TO_CART","addToCartSuccess","data","ADD_TO_CART_SUCCESS","payload","addToCartFailed","error","ADD_TO_CART_FAILED","addToCartReport","req","dispatch","then","success","status","catch","loadCart","LOAD_CART","loadCartSuccess","LOAD_CART_SUCCESS","loadCartFailed","LOAD_CART_FAILED","loadCartReport","customerid","request","makhachhang","deleteProduct","DELETE_PRODUCT","deleteProductSuccess","DELETE_PRODUCT_SUCCESS","deleteProductFailed","DELETE_PRODUCT_FAILED","deleteProductReport","masanpham","res","console","log","JSON","stringify"],"mappings":"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","sourcesContent":["import * as cartApi from \"../../apis/cart\";\nimport * as cartConst from \"../constrants/cartConst\";\nimport Cookies from \"universal-cookie\";\n\nconst cookie = new Cookies();\nconst token = cookie.get('token');\nconst refreshtoken = cookie.get('refreshtoken');\n\nexport const addToCart = (history) => {\n  return {\n    type: cartConst.ADD_TO_CART,\n    history: history,\n  };\n};\n\nexport const addToCartSuccess = (data) => {\n  return {\n    type: cartConst.ADD_TO_CART_SUCCESS,\n    payload: {\n      data,\n    },\n  };\n};\n\nexport const addToCartFailed = (error) => {\n  return {\n    type: cartConst.ADD_TO_CART_FAILED,\n    payload: {\n      error,\n    },\n  };\n};\n\n\nexport const addToCartReport = (req) => {\n    return (dispatch) => {\n      cartApi\n        .addToCart(req, token, refreshtoken)\n        .then((success) => {\n          if (success.status === 200) dispatch(addToCartSuccess(success.data));\n          else dispatch(addToCartFailed(success));\n        })\n        .catch((error) => {\n          dispatch(addToCartFailed(error));\n        });\n    };\n  \n};\n\n/* Xem gio hang */\nexport const loadCart = () => {\n  return {\n    type: cartConst.LOAD_CART\n  };\n};\n\nexport const loadCartSuccess = (data) => {\n  return {\n    type: cartConst.LOAD_CART_SUCCESS,\n    payload: {\n      data: data\n    },\n  };\n};\n\nexport const loadCartFailed = (error) => {\n  return {\n    type: cartConst.LOAD_CART_FAILED,\n    payload: {\n      error,\n    },\n  };\n};\n\nexport const loadCartReport = (customerid) => {\n\n  let request = { makhachhang:customerid };\n  return (dispatch) => {\n    cartApi\n      .loadCart(request, token, refreshtoken)\n      .then((success) => {\n        if (success.status === 200) {\n          dispatch(loadCartSuccess(success.data));\n        }\n        else if (success.status===404) {\n          dispatch(loadCart(success));\n        } \n        else {dispatch(loadCartFailed(success));\n        }\n      })\n      .catch((error) => {\n        dispatch(loadCartFailed(error));\n      });\n  };\n};\n\n/* Xoá sản phẩm trong giỏ hàng */\nexport const deleteProduct = () => {\n  return {\n    type: cartConst.DELETE_PRODUCT\n  };\n};\n\nexport const deleteProductSuccess = (success) => {\n  return {\n    type: cartConst.DELETE_PRODUCT_SUCCESS,\n    payload: {\n      data: success.data\n    },\n  };\n};\n\nexport const deleteProductFailed = (error) => {\n  return {\n    type: cartConst.DELETE_PRODUCT_FAILED,\n    payload: {\n      error,\n    },\n  };\n};\n\nexport const deleteProductReport = (makhachhang, masanpham) => {\n  return (dispatch) => {\n    cartApi\n      .deleteProduct(makhachhang, masanpham, token, refreshtoken)\n      .then((res) => {\n        if (res.status === 200) \n        {\n          dispatch(deleteProductSuccess(res));\n        }\n        else if (res.status===404) dispatch(deleteProduct(res));\n        else \n        {\n          dispatch(deleteProductFailed(res));\n        }\n      })\n      .catch((error) => {\n        console.log(\"error\"+JSON.stringify(error));\n        dispatch(deleteProductFailed(error));\n      });\n  };\n};\n"]},"metadata":{},"sourceType":"module"}