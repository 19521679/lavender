{"ast":null,"code":"import * as loginApi from \"../../apis/login\";\nimport * as loginConst from \"../constrants/loginConst\";\nimport Cookies from 'js-cookie';\nimport jwt from 'jwt-decode';\nimport cookieClient from 'react-cookie';\nexport const postLogin = () => {\n  return {\n    type: loginConst.POST_LOGIN\n  };\n};\nexport const postLoginSuccess = data => {\n  return {\n    type: loginConst.POST_LOGIN_SUCCESS,\n    payload: {\n      data: data\n    }\n  };\n};\nexport const postLoginFailed = error => {\n  return {\n    type: loginConst.POST_LOGIN_FAILED,\n    payload: {\n      error\n    }\n  };\n};\nexport const postLoginReport = req => {\n  return async dispatch => {\n    await loginApi.login({\n      \"email\": \"19521679@gm.uit.edu.vn\",\n      \"password\": \"1\"\n    }).then(success => {\n      if (success.status === 200) {\n        dispatch(postLoginSuccess(success.data));\n        const token = success.data;\n        cookieClient.save('token', success.data, {\n          path: '/'\n        }); // const user = jwt(token); // decode your token here\n        // console.log(user);\n\n        let cookie = cookieClient.load('token');\n        console.log(\"cookie\" + Cookies.get('username'));\n      } else dispatch(postLoginFailed(success));\n    }).catch(error => {\n      dispatch(postLoginFailed(error));\n    });\n  };\n};","map":{"version":3,"sources":["/Users/khanhle/Documents/GitHub/web/lavender/src/Components/redux/actions/loginAct.js"],"names":["loginApi","loginConst","Cookies","jwt","cookieClient","postLogin","type","POST_LOGIN","postLoginSuccess","data","POST_LOGIN_SUCCESS","payload","postLoginFailed","error","POST_LOGIN_FAILED","postLoginReport","req","dispatch","login","then","success","status","token","save","path","cookie","load","console","log","get","catch"],"mappings":"AAAA,OAAO,KAAKA,QAAZ,MAA0B,kBAA1B;AACA,OAAO,KAAKC,UAAZ,MAA4B,0BAA5B;AACA,OAAOC,OAAP,MAAoB,WAApB;AACA,OAAOC,GAAP,MAAgB,YAAhB;AACA,OAAOC,YAAP,MAAyB,cAAzB;AAEA,OAAO,MAAMC,SAAS,GAAG,MAAM;AAC7B,SAAO;AACLC,IAAAA,IAAI,EAAEL,UAAU,CAACM;AADZ,GAAP;AAGD,CAJM;AAMP,OAAO,MAAMC,gBAAgB,GAAIC,IAAD,IAAU;AACxC,SAAO;AACLH,IAAAA,IAAI,EAAEL,UAAU,CAACS,kBADZ;AAELC,IAAAA,OAAO,EAAE;AACPF,MAAAA,IAAI,EAACA;AADE;AAFJ,GAAP;AAMD,CAPM;AASP,OAAO,MAAMG,eAAe,GAAIC,KAAD,IAAW;AACxC,SAAO;AACLP,IAAAA,IAAI,EAAEL,UAAU,CAACa,iBADZ;AAELH,IAAAA,OAAO,EAAE;AACPE,MAAAA;AADO;AAFJ,GAAP;AAMD,CAPM;AASP,OAAO,MAAME,eAAe,GAAKC,GAAD,IAAS;AACvC,SAAO,MAAOC,QAAP,IAAoB;AACzB,UAAMjB,QAAQ,CACXkB,KADG,CACG;AACL,eAAQ,wBADH;AAEL,kBAAW;AAFN,KADH,EAKHC,IALG,CAKGC,OAAD,IAAa;AACjB,UAAIA,OAAO,CAACC,MAAR,KAAiB,GAArB,EACA;AAACJ,QAAAA,QAAQ,CAACT,gBAAgB,CAACY,OAAO,CAACX,IAAT,CAAjB,CAAR;AACC,cAAMa,KAAK,GAAGF,OAAO,CAACX,IAAtB;AACAL,QAAAA,YAAY,CAACmB,IAAb,CAAkB,OAAlB,EAA2BH,OAAO,CAACX,IAAnC,EAAyC;AAACe,UAAAA,IAAI,EAAC;AAAN,SAAzC,EAFF,CAGE;AACA;;AACA,YAAIC,MAAM,GAAGrB,YAAY,CAACsB,IAAb,CAAkB,OAAlB,CAAb;AACAC,QAAAA,OAAO,CAACC,GAAR,CAAY,WAAS1B,OAAO,CAAC2B,GAAR,CAAY,UAAZ,CAArB;AAED,OATD,MAUKZ,QAAQ,CAACL,eAAe,CAACQ,OAAD,CAAhB,CAAR;AACN,KAjBG,EAkBHU,KAlBG,CAkBIjB,KAAD,IAAW;AAChBI,MAAAA,QAAQ,CAACL,eAAe,CAACC,KAAD,CAAhB,CAAR;AACD,KApBG,CAAN;AAqBD,GAtBD;AAuBD,CAxBM","sourcesContent":["import * as loginApi from \"../../apis/login\";\nimport * as loginConst from \"../constrants/loginConst\";\nimport Cookies from 'js-cookie';\nimport jwt from 'jwt-decode';\nimport cookieClient from 'react-cookie'\n\nexport const postLogin = () => {\n  return {\n    type: loginConst.POST_LOGIN,\n  };\n};\n\nexport const postLoginSuccess = (data) => {\n  return {\n    type: loginConst.POST_LOGIN_SUCCESS,\n    payload: {\n      data:data,\n    },\n  };\n};\n\nexport const postLoginFailed = (error) => {\n  return {\n    type: loginConst.POST_LOGIN_FAILED,\n    payload: {\n      error,\n    },\n  };\n};\n\nexport const postLoginReport =  (req) => {\n  return async (dispatch) => {\n    await loginApi\n      .login({\n        \"email\":\"19521679@gm.uit.edu.vn\",\n        \"password\":\"1\"\n      })\n      .then((success) => {\n        if (success.status===200) \n        {dispatch(postLoginSuccess(success.data));\n          const token = success.data;\n          cookieClient.save('token', success.data, {path:'/'});\n          // const user = jwt(token); // decode your token here\n          // console.log(user);\n          let cookie = cookieClient.load('token');\n          console.log(\"cookie\"+Cookies.get('username'));\n          \n        }\n        else dispatch(postLoginFailed(success));\n      })\n      .catch((error) => {\n        dispatch(postLoginFailed(error));\n      });\n  };\n};\n"]},"metadata":{},"sourceType":"module"}